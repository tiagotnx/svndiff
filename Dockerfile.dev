# Dockerfile para desenvolvimento com hot reload
FROM golang:1.21-alpine

# Instalar dependências
RUN apk add --no-cache git ca-certificates tzdata subversion make bash

# Instalar Air para hot reload
RUN go install github.com/cosmtrek/air@latest

# Instalar golangci-lint
RUN wget -O- -nv https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh | sh -s v1.54.2

# Definir diretório de trabalho
WORKDIR /app

# Copiar go mod e sum files
COPY go.mod go.sum ./

# Baixar dependências
RUN go mod download

# Comando padrão para desenvolvimento
CMD ["air", "-c", ".air.toml"]
